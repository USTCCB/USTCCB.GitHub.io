<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Lab - USTCCB</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            min-height: 400px;
        }

        .game-controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        button.game-btn {
            background: var(--primary-color);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }

        button.game-btn:hover {
            background: var(--primary-hover);
        }

        /* Snake Game */
        #snakeCanvas {
            background: #020617;
            border: 1px solid #334155;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* Tic Tac Toe */
        .ttt-board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            gap: 5px;
        }

        .ttt-cell {
            width: 100px;
            height: 100px;
            background: #1e293b;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }

        .ttt-cell:hover {
            background: #334155;
        }

        .ttt-cell.x { color: var(--accent-color); }
        .ttt-cell.o { color: var(--primary-color); }

        .game-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-btn {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-muted);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
        }

        .tab-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="background-glow"></div>
    
    <div class="app-container">
        <!-- Sidebar (Copied from index.html for consistency) -->
        <nav class="sidebar">
            <div class="logo">
                <i class="fa-solid fa-code-branch"></i>
                <span>USTCCB</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fa-solid fa-house"></i> é¦–é¡µ</a></li>
                <li><a href="ai-chat.html"><i class="fa-solid fa-robot"></i> AI åŠ©æ‰‹</a></li>
                <li><a href="myBlogs.html"><i class="fa-solid fa-pen-nib"></i> åšå®¢</a></li>
                <li><a href="myAlbum.html"><i class="fa-solid fa-images"></i> ç›¸å†Œ</a></li>
                <li class="active"><a href="games.html"><i class="fa-solid fa-gamepad"></i> æ¸¸æˆå®éªŒå®¤</a></li>
                <li><a href="myTimetable.html"><i class="fa-solid fa-calendar-days"></i> è¯¾è¡¨</a></li>
                <li><a href="myDairy.html"><i class="fa-solid fa-book"></i> æ—¥è®°</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <header class="top-header">
                <h1>æ¸¸æˆå®éªŒå®¤ ğŸ®</h1>
                <p>ä¼‘æ¯ä¸€ä¸‹ï¼Œç©ä¸ªæ¸¸æˆå§</p>
            </header>

            <div class="game-tabs">
                <button class="tab-btn active" onclick="switchGame('snake')">è´ªåƒè›‡</button>
                <button class="tab-btn" onclick="switchGame('ttt')">äº•å­—æ£‹</button>
            </div>

            <!-- Snake Game Section -->
            <div id="snake-game" class="game-wrapper">
                <div class="game-container">
                    <div style="margin-bottom: 10px; display:flex; justify-content:space-between; width: 400px;">
                        <span>åˆ†æ•°: <span id="score">0</span></span>
                        <span>æœ€é«˜åˆ†: <span id="highScore">0</span></span>
                    </div>
                    <canvas id="snakeCanvas" width="400" height="400"></canvas>
                    <div class="game-controls">
                        <button class="game-btn" onclick="startSnake()">å¼€å§‹æ¸¸æˆ</button>
                    </div>
                    <p style="margin-top: 10px; color: #64748b; font-size: 0.9rem;">ä½¿ç”¨æ–¹å‘é”®æ§åˆ¶ç§»åŠ¨</p>
                </div>
            </div>

            <!-- Tic Tac Toe Section -->
            <div id="ttt-game" class="game-wrapper hidden">
                <div class="game-container">
                    <div style="margin-bottom: 20px;">
                        <span id="ttt-status">ç©å®¶ X çš„å›åˆ</span>
                    </div>
                    <div class="ttt-board" id="tttBoard">
                        <!-- Generated by JS -->
                    </div>
                    <div class="game-controls">
                        <button class="game-btn" onclick="resetTTT()">é‡ç½®æ¸¸æˆ</button>
                    </div>
                </div>
            </div>

            <!-- Game Over Modal -->
            <div id="game-modal" class="game-modal hidden">
                <div class="modal-content">
                    <h2 id="modal-title">æ¸¸æˆç»“æŸ!</h2>
                    <p id="modal-message">ä½ çš„å¾—åˆ†: 0</p>
                    <div class="modal-buttons">
                        <button class="game-btn" onclick="closeModalAndRestart()">å†ç©ä¸€æ¬¡</button>
                        <button class="game-btn secondary" onclick="closeModal()">å…³é—­</button>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="games.js"></script>
    <script>
        function switchGame(game) {
            document.querySelectorAll('.game-wrapper').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            if (game === 'snake') {
                document.getElementById('snake-game').classList.remove('hidden');
                document.querySelector('.tab-btn:nth-child(1)').classList.add('active');
            } else {
                document.getElementById('ttt-game').classList.remove('hidden');
                document.querySelector('.tab-btn:nth-child(2)').classList.add('active');
            }
        }
    </script>
</body>
</html>